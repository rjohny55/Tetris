// src/constants.ts
import { TetrominoData } from './types.js';

export const COLS = 10; // Ширина поля в блоках
export const ROWS = 20; // Высота поля в блоках
export const BLOCK_SIZE = 30; // Размер блока в пикселях
export const NEXT_PIECE_AREA_SIZE = 4; // Размер области для следующей фигуры в блоках

export const EMPTY_COLOR = '#e0e0e0'; // Цвет пустой ячейки (фон)
export const BORDER_COLOR = '#cccccc'; // Цвет сетки

// Определения фигур Тетрамино (каждая фигура - массив поворотов)
export const TETROMINOES: { [key: string]: TetrominoData } = {
    I: {
        shape: [
            [[0, 0, 0, 0], [1, 1, 1, 1], [0, 0, 0, 0], [0, 0, 0, 0]],
            [[0, 1, 0, 0], [0, 1, 0, 0], [0, 1, 0, 0], [0, 1, 0, 0]],
            [[0, 0, 0, 0], [0, 0, 0, 0], [1, 1, 1, 1], [0, 0, 0, 0]],
            [[0, 0, 1, 0], [0, 0, 1, 0], [0, 0, 1, 0], [0, 0, 1, 0]]
        ],
        color: 'cyan'
    },
    O: {
        shape: [
            [[1, 1], [1, 1]]
        ], // Квадрат не вращается
        color: 'yellow'
    },
    T: {
        shape: [
            [[0, 1, 0], [1, 1, 1], [0, 0, 0]],
            [[0, 1, 0], [0, 1, 1], [0, 1, 0]],
            [[0, 0, 0], [1, 1, 1], [0, 1, 0]],
            [[0, 1, 0], [1, 1, 0], [0, 1, 0]]
        ],
        color: 'purple'
    },
    S: {
        shape: [
            [[0, 1, 1], [1, 1, 0], [0, 0, 0]],
            [[0, 1, 0], [0, 1, 1], [0, 0, 1]],
            [[0, 0, 0], [0, 1, 1], [1, 1, 0]],
            [[1, 0, 0], [1, 1, 0], [0, 1, 0]]
        ],
        color: 'green'
    },
    Z: {
        shape: [
            [[1, 1, 0], [0, 1, 1], [0, 0, 0]],
            [[0, 0, 1], [0, 1, 1], [0, 1, 0]],
            [[0, 0, 0], [1, 1, 0], [0, 1, 1]],
            [[0, 1, 0], [1, 1, 0], [1, 0, 0]]
        ],
        color: 'red'
    },
    J: {
        shape: [
            [[1, 0, 0], [1, 1, 1], [0, 0, 0]],
            [[0, 1, 1], [0, 1, 0], [0, 1, 0]],
            [[0, 0, 0], [1, 1, 1], [0, 0, 1]],
            [[0, 1, 0], [0, 1, 0], [1, 1, 0]]
        ],
        color: 'blue'
    },
    L: {
        shape: [
            [[0, 0, 1], [1, 1, 1], [0, 0, 0]],
            [[0, 1, 0], [0, 1, 0], [0, 1, 1]],
            [[0, 0, 0], [1, 1, 1], [1, 0, 0]],
            [[1, 1, 0], [0, 1, 0], [0, 1, 0]]
        ],
        color: 'orange'
    }
};

export const TETROMINO_KEYS = Object.keys(TETROMINOES);

// Начальная скорость и ускорение
export const STARTING_SPEED = 800; // мс между шагами вниз
export const SPEED_INCREMENT = 50; // На сколько уменьшать интервал за уровень
export const LINES_PER_LEVEL = 10; // Линий для перехода на следующий уровень

// Очки за линии
export const SCORE_POINTS = {
    1: 100, // 1 линия
    2: 300, // 2 линии
    3: 500, // 3 линии
    4: 800  // 4 линии (Тетрис)
};

// Константы для свайпов
export const SWIPE_THRESHOLD = 50; // Минимальное расстояние для регистрации свайпа (в пикселях)
export const TAP_THRESHOLD_TIME = 200; // Макс время для тапа (мс)
export const TAP_THRESHOLD_DIST = 10;  // Макс расстояние для тапа (пикс)
